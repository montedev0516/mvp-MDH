{% extends 'layout/base.html' %}
{% block content %}
  <div class="container">
    <h1 class="text-center mb-4">Welcome to MyDispatchHub</h1>

    <div class="row g-4">
      <!-- Dispatch Section -->
      <div class="col-md-6 col-lg-4">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title d-flex align-items-center">
              <i class="bi bi-truck fs-4 me-2"></i>
              Dispatch
            </h5>
            <ul class="list-unstyled">
              <li class="mb-2">
                <a href="{% url 'dispatch:order_create' %}" class="text-decoration-none"><i class="bi bi-plus-circle me-2"></i>Create Order</a>
              </li>
              <li class="mb-2">
                <a href="{% url 'dispatch:order_list' %}" class="text-decoration-none"><i class="bi bi-list-ul me-2"></i>Order List</a>
              </li>
              <li class="mb-2">
                <a href="{% url 'dispatch:dispatch_list' %}" class="text-decoration-none"><i class="bi bi-clipboard-check me-2"></i>Dispatch List</a>
              </li>
              <li>
                <a href="{% url 'dispatch:assignment-list' %}" class="text-decoration-none"><i class="bi bi-link me-2"></i>Driver/Truck Assignments</a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Management Section -->
      <div class="col-md-6 col-lg-4">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title d-flex align-items-center">
              <i class="bi bi-gear fs-4 me-2"></i>
              Management
            </h5>
            <ul class="list-unstyled">
              <li class="mb-2">
                <a href="{% url 'fleet:driver-list' %}" class="text-decoration-none"><i class="bi bi-person me-2"></i>Drivers</a>
              </li>
              <li class="mb-2">
                <a href="{% url 'customer_list' %}" class="text-decoration-none"><i class="bi bi-people me-2"></i>Customers</a>
              </li>
              <li class="mb-2">
                <a href="{% url 'fleet:carrier-list' %}" class="text-decoration-none"><i class="bi bi-building me-2"></i>Carriers</a>
              </li>
              <li>
                <a href="{% url 'fleet:truck-list' %}" class="text-decoration-none"><i class="bi bi-truck-flatbed me-2"></i>Trucks & Trailers</a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Expenses Section -->
      <div class="col-md-6 col-lg-4">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title d-flex align-items-center">
              <i class="bi bi-cash-stack fs-4 me-2"></i>
              Expenses
            </h5>
            <ul class="list-unstyled">
              <li class="mb-2">
                <a href="{% url 'fuel_expense_bvd_list' %}" class="text-decoration-none"><i class="bi bi-fuel-pump me-2"></i>Fuel Expenses (BVD)</a>
              </li>
              <li class="mb-2">
                <a href="{% url 'other_expense_list' %}" class="text-decoration-none"><i class="bi bi-receipt me-2"></i>Other Expenses</a>
              </li>
              <li class="mb-2">
                <a href="{% url 'payout_list' %}" class="text-decoration-none"><i class="bi bi-cash-coin me-2"></i>Driver Payouts</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      {% if request.user.profile.role == 'super_admin' %}
        <!-- User Management Section -->
        <div class="col-md-6 col-lg-4">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title d-flex align-items-center">
                <i class="bi bi-people-fill fs-4 me-2"></i>
                Tenant & User Management
              </h5>
              <ul class="list-unstyled">
                <li class="mb-2">
                  <a href="{% url 'tenant:onboarding' %}" class="text-decoration-none"><i class="bi bi-person-plus me-2"></i>Onboard Organization</a>
                </li>
                <li class="mb-2">
                  <a href="{% url 'tenant:user_add' %}" class="text-decoration-none"><i class="bi bi-person-plus-fill me-2"></i>Add New User</a>
                </li>
                <li>
                  <a href="{% url 'tenant:user_list' %}" class="text-decoration-none"><i class="bi bi-person-lines-fill me-2"></i>Manage Users</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!-- Subscription Management Section -->
        <div class="col-md-6 col-lg-4">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title d-flex align-items-center">
                <i class="bi bi-currency-dollar fs-4 me-2"></i>
                Subscription Management
              </h5>
              <ul class="list-unstyled">
                <li class="mb-2">
                  <a href="{% url 'subscriptions:plan_list' %}" class="text-decoration-none"><i class="bi bi-tags me-2"></i>Subscription Plans</a>
                </li>
                <li class="mb-2">
                  <a href="{% url 'subscriptions:tenant_subscription_list' %}" class="text-decoration-none"><i class="bi bi-card-checklist me-2"></i>Tenant Subscriptions</a>
                </li>
                <li>
                  <a href="{% url 'subscriptions:usage_monitoring' %}" class="text-decoration-none"><i class="bi bi-graph-up me-2"></i>Usage Monitoring</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      {% endif %}
      <!-- Quick Actions Section -->
      {% comment %} <div class="col-md-6 col-lg-4">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title d-flex align-items-center">
              <i class="bi bi-person-circle fs-4 me-2"></i>
              Quick Actions
            </h5>
            <ul class="list-unstyled">
              <li class="mb-2">
                <a href="{% url 'tenant:profile' %}" class="text-decoration-none"><i class="bi bi-person-badge me-2"></i>My Profile</a>
              </li>
              <li class="mb-2">
                <a href="{% url 'tenant:home' %}" class="text-decoration-none"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a>
              </li>
              <li>
                <a href="{% url 'tenant:logout' %}" class="text-decoration-none" onclick="handleLogout(event)"><i class="bi bi-box-arrow-right me-2"></i>Logout</a>
              </li>
            </ul>
          </div>
        </div>
      </div> {% endcomment %}
    </div>
  </div>

  <style>
    .card {
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    /* Light mode styles */
    [data-bs-theme='light'] .card-body a {
      color: #495057;
      display: block;
      padding: 0.5rem 0;
      transition: color 0.2s;
    }
    [data-bs-theme='light'] .card-body a:hover {
      color: #0d6efd;
    }

    /* Dark mode styles */
    [data-bs-theme='dark'] .card-body a {
      color: rgba(255, 255, 255, 0.9);
      display: block;
      padding: 0.5rem 0;
      transition: color 0.2s;
    }
    [data-bs-theme='dark'] .card-body a:hover {
      color: #6ea8fe; /* lighter blue for better contrast in dark mode */
    }
    [data-bs-theme='dark'] .card:hover {
      box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);
    }
    [data-bs-theme='dark'] h6 {
      color: rgba(255, 255, 255, 0.9);
    }
  </style>
{% endblock %}
